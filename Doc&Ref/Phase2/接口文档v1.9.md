
##### 简要描述

- 管理员登录接口

##### 请求URL
- ` http://xx.com/admin/login `
  
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| username | 是   | string | 用户名 |
| password | 是   | string | 密码   |

##### 返回示例 

``` 
  {
    "error_code": 0,
    "data": {
      "uid": "1",
      "username": "liming"
      "token": "XXXXXX"
    }
  }
```

##### 返回参数说明 

| 参数名  | 类型 | 说明                                 |
| :------ | :--- | ------------------------------------ |
| uid | string | 数据库内id |
| username | string | 管理员姓名 |
| token | string | 管理员token |


##### 备注 




##### 简要描述
- 管理员生成报表接口
##### 请求URL
- ` http://xx.com/admin/createreport `
  
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| time | 是  | timestamp | 当前时间 |


##### 返回示例 

``` 
  {
    "error_code": 0,
    "data": [
        {
      "rid": "101",
      "state": "1",
      "temp":"26",
      "mode":"1",
      "discount":"0.8",
        }
    ]
  }
```

##### 返回参数说明 

| 参数名  | 类型 | 说明                                 |
| :------ | :--- | ------------------------------------ |
| rid | string | 房间号 |
| state | int | 1：开 0：关 |
| temp | int | 当前温度 |
| mode | string | 目标风速挡位("H","M","L") |
| discount | float | 优惠力度 |
##### 备注 
##### 简要描述

- 管理员查看流水接口

##### 请求URL
- ` http://xx.com/admin/createwaterbills`
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| date| 是  | timestamp | 需查看流水的某天 |



##### 返回示例 

``` 
  {
    "error_code": 0,
    "data":{
        "rid":"101"
        "time":"2021-04-03 23:42:50"
        "account":"87.60"
    }
  }
```

##### 返回参数说明 

| 参数名  | 类型 | 说明                                 |
| :------ | :--- | ------------------------------------ |
| rid | string | 房间号 |
| time | timestamp | 退房时间 |
| account | float | 收的钱 |

##### 备注 
- 每条流水账目在客户退房，收到钱后记录


##### 简要描述
- 管理员控制房间空调开启与关闭
##### 请求URL
- ` http://xx.com/admin/turnonoff`
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| rid | 是  | string | 房间号 |
| action | 是  | int | 开启或关闭|


##### 返回示例 

``` 
  {
    "error_code": 0,
  }
```

##### 返回参数说明 

| 参数名  | 类型 | 说明                                 |
| :------ | :--- | ------------------------------------ |

##### 备注 

##### 简要描述
- 管理员控制房间空调温度
##### 请求URL
- ` http://xx.com/admin/settemp`
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| rid | 是  | string | 房间号 |
| settemp | 是  | int | 目标温度|


##### 返回示例 

``` 
  {
    "error_code": 0,
  }
```



##### 备注 
- 判断设定值是否合理

##### 简要描述
- 管理员控制房间风速挡位
##### 请求URL
- ` http://xx.com/admin/setmode`
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| rid | 是  | string | 房间号 |
| setmode | 是  | string | 目标风速挡位("H","M","L")|



##### 返回示例 

``` 
  {
    "error_code": 0,
  }
```


##### 备注 
- 判断目标挡位是否合理





##### 简要描述
- 管理员控制单个房间的优惠力度
##### 请求URL
- ` http://xx.com/admin/discount`
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| rid | 是  | string | 房间号 |
| discount | 是  |float | 优惠折扣（0~1）|



##### 返回示例 

``` 
  {
    "error_code": 0,
  }
```








##### 简要描述
- 管理员开关所有空调
##### 请求URL
- ` http://xx.com/admin/centerturnonoff`
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| state |是| int | 1：开 0：关 |



##### 返回示例 

``` 
  {
    "error_code": 0,
  }
```



##### 备注 


##### 简要描述
- 前台办理入住
##### 请求URL
- ` http://xx.com/reception/signin`
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| phonenumber | 是|string | |



##### 返回示例 

``` 
  {
    "error_code": 0,
    "data": [
        {
      "name": "liming",
      "rid": "101",
      "password":"26"
        }
    ]
  }
```

##### 返回参数说明 

| 参数名  | 类型 | 说明                                 |
| :------ | :--- | ------------------------------------ |
| name | string | 用户预留姓名 |
| rid | string | 房间号 |
| password | string | 用户登录所需密码 |


##### 备注 
- 入住的时候用户名给出手机号，前台通过手机号向服务器进行请求，然后服务器返回预留姓名（用于核对），房间号，密码，（需要将房间号和密码告知用户）





##### 简要描述
- 前台办理退房
##### 请求URL
- ` http://xx.com/reception/logout`
##### 请求方式
- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| rid | 房间号|string | |




##### 返回示例 

``` 
  {
    "error_code": 0,
    "data": [
        {
      "duration": "280",
      "price": "123",
        }
    ]
  }
```

##### 返回参数说明 

| 参数名  | 类型 | 说明                                 |
| :------ | :--- | ------------------------------------ |
| duration | int | 使用时间（分钟） |
| price | float | 消费金额 |



##### 备注 



##### 简要描述

- 用户刷卡进入房间

##### 请求URL

- ` http://xx.com/user/checkin`

##### 请求方式

- POST 

##### 参数

| 参数名   | 必选 | 类型   | 说明   |
| :------- | :--- | :----- | ------ |
| rid      | 是   | string | 房间号 |
| password | 是   | string | 密码   |




##### 返回示例 

``` 
  {
    "error_code": 0,
    "data": {
      "uid": "1",
      "username": "liming"
      "token": "XXXXXX"
    }
  }
```

##### 返回参数说明 

| 参数名   | 类型   | 说明           |
| :------- | :----- | -------------- |
| uid      | string | 在数据库内的id |
| username | string | 客户预留的名字 |
| token    | string | 客户token      |



##### 备注 

- 用户刷卡进入房间，这里的输入房间号和密码其实是模拟刷卡的这个过程，服务器端会返回用户预留的姓名、在数据库内的id（这个id我也不知道有啥用，参照前面的管理员登录）和token，下次用户进行相关操作的时候就可以直接在header里面带上token进行验证



##### 简要描述

- 用户控制空调开关

##### 请求URL

- ` http://xx.com/user/turnonoff`

##### 请求方式

- POST 

##### 参数

| 参数名 | 必选 | 类型 | 说明        |
| :----- | :--- | :--- | ----------- |
| rid    | 是   | string | 房间号   |
| state  | 是   | int  | 1：开 0：关 |



##### 返回示例 

``` 
  {
    "error_code": 0,
  }
```



##### 备注 



##### 简要描述

- 用户控制房间空调温度

##### 请求URL

- ` http://xx.com/user/settemp`

##### 请求方式

- POST 

##### 参数

| 参数名  | 必选 | 类型   | 说明     |
| :------ | :--- | :----- | -------- |
| rid     | 是   | string | 房间号   |
| settemp | 是   | int    | 目标温度 |


##### 返回示例 

``` 
  {
    "error_code": 0,
  }
```



##### 备注 

- 判断设定值是否合理，header中带token进行验证





##### 简要描述

- 用户控制房间空调风速

##### 请求URL

- ` http://xx.com/user/setmode`

##### 请求方式

- POST 

##### 参数

| 参数名  | 必选 | 类型   | 说明                      |
| :------ | :--- | :----- | ------------------------- |
| rid     | 是   | string | 房间号                    |
| setmode | 是   | string | 目标风速挡位("H","M","L") |



##### 返回示例 

``` 
  {
    "error_code": 0,
  }
```



##### 备注 

- 判断设定值是否合理，header中带token进行验证





##### 简要描述

- 用户界面更新显示金额

##### 请求URL

- ` http://xx.com/user/showcost`

##### 请求方式

- POST 

##### 参数

| 参数名 | 必选 | 类型   | 说明   |
| :----- | :--- | :----- | ------ |
| rid    | 是   | string | 房间号 |


##### 返回示例 

``` 
  {
    "error_code": 0,
    "data": {
      "onoff": "1"
      "cost":"99.43"
    }
  }
```

##### 返回参数说明 

| 参数名 | 类型  | 说明                                                       |
| :----- | :---- | ---------------------------------------------------------- |
| onoff  | int   | 参数是0（关机）或者1（维持开机），分别代表空调受控后的状态 |
| cost   | float | 所用金额，保留两位小数                                     |



##### 备注 

- 显示金额的心跳包附带受管理员控制的信息，也就是会有延迟





