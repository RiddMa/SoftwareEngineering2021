# 分布式温控计费系统	系统解决方案

小组：303e

----

[TOC]

----

## 需求分析

用户需求：设定空调温度、风速；获取需支付金额信息；获取空调使用账单、详单；

管理员需求：监控各房间空调使用状态；生成格式化空调使用统计报表；

其他：TBD



## 技术路线

（系统整体架构图、各个模块之间的关系、每个模块的功能等？）

系统架构：Client-Server

程序语言：Java

==图形界面：TBD==

==数据库：TBD==

通讯协议：Websocket

### 客户端

* ClientUI：负责与用户交互，提供设定与显示AC（空调）温度、设定与显示空调风速、显示需支付金额的功能。

* ClientCtrl：发送数据时，负责从ClientUI获取信息，并将其包装为内部数据结构，传递给ClientTrans；接收数据时，负责解析ClientTrans传递来的数据，传递给ClientUI显示。

* ClientTrans：发送数据时，负责包装ClientCtrl产生的数据结构，通过Websocket发送到服务端；接收数据时，负责解析服务端发送来的控制信息数据，并将其传递给ClientCtrl。

### 管理端

* AdminUI：负责与管理员交互，提供监控各个房间AC（空调）使用状态、==（TBD：控制任意房间空调温度与风速）==、打印各房间空调费用账单、打印各房间空调使用详单的功能。
* AdminCtrl：发送数据时，负责从AdminUI获取信息，并将其包装为内部数据结构，传递给AdminTrans；接收数据时，负责解析AdminTrans传递来的数据，传递给AdminUI显示。
* AdminTrans：发送数据时，负责包装AdminCtrl产生的数据结构，通过Websocket发送到服务端；接收数据时，负责解析服务端发送来的控制信息数据，并将其传递给AdminCtrl。
* 将客户端与管理端分离原因：考虑到客户端需要大规模部署，且一般为房间内的小型或嵌入式终端，合并管理端代码使得客户端存在冗余，造成空间浪费成本上升，且存在潜在安全风险。

### 服务端

* ServerTrans：接收数据时，负责解析客户端或管理端发送的数据，并将其传递给ServerCtrl；发送数据时，负责包装ServerCtrl产生的数据结构，通过Websocket发送到客户端或管理端。
* ServerCtrl：
	* 接收数据时，负责从ServerTrans获取信息，并将其解析为数据库可用格式，传递给ServerDAO；发送数据时，负责包装从ServerDAO传递来的数据，传递给ServerTrans。
	* 根据接收到的请求，控制AC（空调）的温度、风速等。
* ServerDAO：数据库访问对象，通过接口对数据库进行CRUD操作。

![SystemStructureV2](分布式温控计费系统_系统解决方案.assets/SystemStructureV2.png)



## 系统性能评估

（系统功能能否满足用户的需求、系统最大承载量、操作延时等？）



## 时间及人力资源安排

### 本方案人员分工

林麒：需求分析
马嘉骥：方案设计（技术路线）
覃驰宇：可行性/系统性能评估
许哲诚：时间及人力资源安排

### 项目安排

<table border= "1px" >
    <caption>时间规划</captiosdn>
    <tr>
        <th>  三月底前   </th>
        <td colspan="2">完善用户需求分析构造合适的领域模型 </td>
    </tr>
    <tr>
        <th rowspan="2"> 四月 </th>
        <th>  四月初   </th>
        <td>完成系统的用例模型设计，学习相关的java知识，开始设计数据库 </td>
    </tr>          
    <tr>
        <th>  四月底前 </th>
        <td>设计模型的动态结构设计，完成对数据库的表项等的设计，构建好数据库部分，对编码所需要的Java知识完成相应的学习 ，与大组内的其他小组统一好服务端与客户端间的数据传输端口名与数据传输格式以及传输协议</td>
    </tr>
    <tr>
        <th rowspan="3"> 五月</th>
        <th>  五月初   </th>
        <td>设计模型-静态结构设计，划分好相应的模块，将任务分配给个人，每个人开始编写相应的模块</td>
    </tr>   
     <tr>
        <th>  五月中下旬 </th>
        <td>每个人完成各自负责的代码部分并完成模块测试，整合小组的代码，确保能完成系统的所有基础需求，在小组内进行测试，修改完善系统</td>
    </tr>   
    <tr>
        <th>  五月底 </th>
        <td>其他小组一起进行组间的测试，有增加或改动的需求这时侯对代码进行相应的增加以及修改，调试好系统</td>
    </tr>  
    <tr>
        <th>  6.11前   </th>
        <td colspan="2">不断完善系统，确保小组间测试正常，力争验收时不出现任何的bug，等待验收</td>
    </tr>   
</table>
<h4>人力资源安排 </h4>

   - 采用java来编写本次系统，开始时小组成员要自学相关的java知识
   - 大致上两人负责前端三人负责后端，讲代码划分为相应的模块（客户，管理员，空调三个部分）分给个人去完成编写
	- 数据库的相关部分在开始编写代码前会提取完成
	- 编写完各自负责的代码后，也要完成对自己编写的模块的测试，完成早的协助他人测试
	- 将测试好的模块进行整合，进行系统的综合测试（由大家一起来完成）

